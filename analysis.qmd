---
title: "Two-Parameters"
format: html
author: "Jacob Khaykin"
execute:
    echo: false
---

```{r}
#| message: false
library(tidyverse)
library(primer.data)
library(tidymodels)
library(broom)
```

```{r}
set.seed(10)

x <- nhanes |>
  filter(age >= 18 & age <= 27) |>
  select(height, sex) |>
  drop_na() |>
  slice_sample(n = 50) 
```
Human height varies across individuals and is often influenced by biological characteristics like sex. Using data from the NHANES study, which includes thousands of observations collected in the United States by the CDC, we examine whether males and females aged 18 to 27 differ in average height. One potential weakness in our model is that the NHANES sample may not fully represent the current population of USMC recruits, leading to biased estimates. We model height, measured in centimeters, as a linear function of sex to estimate how average height differs between males and females.




$$
Y = \beta_0 + \beta_1 X_1 + \beta_2 X_2 + \cdots + \beta_k X_k
$$
$$
\hat{height} = 166.4 + 6.2 \cdot male
$$

```{r}
#| cache: true
fit_height <- linear_reg() |>
  fit(height ~ sex, data = x)

```

```{r}
#| cache: true
library(gt)

fit_height |>
  tidy(conf.int = TRUE) |>
  select(term, estimate, conf.low, conf.high) |>
  gt() |>
  tab_header(
    title = "Height Regression Estimates",
    subtitle = "With 95% Confidence Intervals"
  ) |>
  fmt_number(
    columns = c(estimate, conf.low, conf.high),
    decimals = 1
  )

```
